# üìö –ö–Ω–∏–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω - lab_2_sequelize 1-3-1

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç ‚Ññ2 –∏ ‚Ññ3 –ø–æ –∫—É—Ä—Å—É –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∫–Ω–∏–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:
- **Backend:** Node.js + Express + Sequelize ORM
- **Database:** PostgreSQL
- **Frontend:** HTML + CSS + JavaScript (–∏–∑ lab_1_3)
- **Authentication:** JWT + bcrypt

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ RESTful API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–∏–≥–∞–º–∏, –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–Ω–∏–≥ —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤**
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Å API –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π**
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–Ω–∏–≥ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ü–µ–Ω–µ –∏ —Ç–∏–ø—É –∞–≤—Ç–æ—Ä–∞
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∫–Ω–∏–≥ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫—É–ø–æ–∫)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏–º–∏ –∑–∞–ø–∞—Å–∞–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π –∏ XSS-–∞—Ç–∞–∫
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- ‚úÖ Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç DDoS

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18.x –∏–ª–∏ –≤—ã—à–µ
- PostgreSQL 14.x –∏–ª–∏ –≤—ã—à–µ
- npm 9.x –∏–ª–∏ –≤—ã—à–µ

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd "lab_2_sequelize 1-3-1"
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bookstore
DB_USER=postgres
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å

# JWT Secret –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
JWT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞

# –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
PORT=3000

# –û–∫—Ä—É–∂–µ–Ω–∏–µ (development, production)
NODE_ENV=development
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_–ø–∞—Ä–æ–ª—å` –∏ `–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
npm run db:create
```

### 5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
npm run db:migrate
```

### 6. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```bash
npm run db:seed
```

### 7. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π):
```bash
npm run dev
```

Production —Ä–µ–∂–∏–º:
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:3000**

## üìö –ü–æ—à–∞–≥–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:

- **[–®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](step1.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –º–æ–¥–µ–ª–µ–π
- **[–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î](step2.md)** - –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **[–®–∞–≥ 3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API endpoints](step3.md)** *(–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)* - –°–æ–∑–¥–∞–Ω–∏–µ API –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–Ω–∏–≥ –∏ –∫–æ—Ä–∑–∏–Ω—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lab_2_sequelize 1-3-1/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ config.json           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î –¥–ª—è Sequelize
‚îú‚îÄ‚îÄ migrations/               # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-create-users.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-create-categories.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-create-authors.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-create-books.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-create-book-authors.js
‚îÇ   ‚îî‚îÄ‚îÄ XXXXXX-create-cart.js
‚îú‚îÄ‚îÄ models/                   # Sequelize –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îú‚îÄ‚îÄ User.js
‚îÇ   ‚îú‚îÄ‚îÄ Category.js
‚îÇ   ‚îú‚îÄ‚îÄ Author.js
‚îÇ   ‚îú‚îÄ‚îÄ Book.js
‚îÇ   ‚îú‚îÄ‚îÄ BookAuthor.js
‚îÇ   ‚îî‚îÄ‚îÄ Cart.js
‚îú‚îÄ‚îÄ seeders/                  # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-demo-categories.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-demo-authors.js
‚îÇ   ‚îú‚îÄ‚îÄ XXXXXX-demo-books.js
‚îÇ   ‚îî‚îÄ‚îÄ XXXXXX-demo-book-authors.js
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/          # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # Middleware (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ validators/          # –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ public/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã frontend
‚îÇ   ‚îú‚îÄ‚îÄ html/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ book.html        # –ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ book-detail.html # üÜï –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–Ω–∏–≥–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test-api-response.html # üÜï –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ API
‚îÇ   ‚îú‚îÄ‚îÄ style/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css        # üîÑ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∫–Ω–∏–≥
‚îÇ   ‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.js       # üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫ –¥–µ—Ç–∞–ª—è–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ book-details.js  # üÜï –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–µ—Ç–∞–ª–µ–π –∫–Ω–∏–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ img/
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .gitignore               # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ server.js               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ test-db.js              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îú‚îÄ‚îÄ package.json            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ step1.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —à–∞–≥–∞ 1
‚îú‚îÄ‚îÄ step2.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —à–∞–≥–∞ 2
‚îî‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
   - id, username, email, password, firstName, lastName

2. **categories** - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏/–∂–∞–Ω—Ä—ã –∫–Ω–∏–≥
   - id, name, slug, description

3. **authors** - –ê–≤—Ç–æ—Ä—ã –∫–Ω–∏–≥
   - id, name, bio, authorType (russian/foreign)

4. **books** - –ö–Ω–∏–≥–∏
   - id, title, categoryId, price, priceCategory, image, shortDescription, fullDescription, stock, popularity

5. **book_authors** - –°–≤—è–∑—å –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤ (many-to-many)
   - id, bookId, authorId

6. **cart** - –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
   - id, userId, bookId, quantity

### –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

```
users (1) ‚Üê‚Üí (M) cart (M) ‚Üê‚Üí (1) books
                              ‚Üì
                          categoryId
                              ‚Üì
                          categories (1)
                              
books (M) ‚Üê‚Üí (M) book_authors (M) ‚Üê‚Üí (M) authors
```

## üìù –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start              # Production —Ä–µ–∂–∏–º
npm run dev           # Development —Ä–µ–∂–∏–º —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π

# –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
npm run db:create     # –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
npm run db:migrate    # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run db:seed       # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î –¥–∞–Ω–Ω—ã–º–∏
npm run db:migrate:undo  # –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:reset      # –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
node test-db.js       # –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **bcrypt** - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å —Å–æ–ª—å—é
- **JWT** - –¢–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π
- **helmet** - –ó–∞—â–∏—Ç–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- **express-rate-limit** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- **joi** - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **Sequelize** - –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `npm run db:seed` –≤ –ë–î –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã:

- **4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** –†–æ–º–∞–Ω—Ç–∏–∫–∞, –î—Ä–∞–º–∞, –ë–∏–æ–≥—Ä–∞—Ñ–∏—è, –§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞
- **6 –∞–≤—Ç–æ—Ä–æ–≤:** 3 —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö, 3 –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö
- **6 –∫–Ω–∏–≥** —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π —Ü–µ–Ω–æ–π –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å—é:
  1. –ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 312)
  2. –ß–µ–ª–æ–≤–µ–∫-–∞–º—Ñ–∏–±–∏—è (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 203)
  3. –í–µ–ª–∏–∫–∏–π –ì—ç—Ç—Å–±–∏ (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 178)
  4. –£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 156)
  5. –ì—Ä–æ–∑–∞ (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 87)
  6. –ú–æ—Ä–µ –∏ –∑–≤–µ–∑–¥—ã (–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 45)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∏ –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

```bash
node test-db.js
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∞–≤—Ç–æ—Ä–∞–º
- –ö–Ω–∏–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º –Ω–∞ —Å–∫–ª–∞–¥–µ

## üéì –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –ø–æ—à–∞–≥–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î –∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å Sequelize ORM

## üìñ API Endpoints *(–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)*

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```
POST /api/auth/register   # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/auth/login      # –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
GET  /api/auth/me         # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### –ö–Ω–∏–≥–∏

```
GET    /api/books              # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
GET    /api/books/:id          # –ü–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É –ø–æ ID
GET    /api/books/popular      # –¢–æ–ø-10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–Ω–∏–≥
GET    /api/books/category/:id # –ö–Ω–∏–≥–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

```
GET    /api/categories         # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET    /api/categories/:id     # –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ ID
```

### –ê–≤—Ç–æ—Ä—ã

```
GET    /api/authors            # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–æ–≤
GET    /api/authors/:id        # –ü–æ–ª—É—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∞ –ø–æ ID
```

### –ö–æ—Ä–∑–∏–Ω–∞

```
GET    /api/cart              # –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /api/cart              # –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ –∫–æ—Ä–∑–∏–Ω—É
PUT    /api/cart/:id          # –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–æ—Ä–∑–∏–Ω–µ
DELETE /api/cart/:id          # –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
```

## üÜï –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–Ω–∏–≥

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **üìñ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ**: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ü–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏–µ
- **üè¢ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤**: –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–µ –ø—Ä–∏ –∫–ª–∏–∫–µ
- **üõí –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É**: –ø—Ä—è–º–æ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–µ—Ç–∞–ª–µ–π –∫–Ω–∏–≥–∏
- **üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **üîÑ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API —Å fallback –Ω–∞ JSON

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ—Ç–∞–ª—è–º**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É –∫–Ω–∏–≥–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É"
4. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ breadcrumb –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –∫–∞—Ç–∞–ª–æ–≥—É

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **URL —Ñ–æ—Ä–º–∞—Ç**: `/html/book-detail.html?id={book_id}`
- **API endpoint**: `GET /api/books/{id}` 
- **Fallback –¥–∞–Ω–Ω—ã–µ**: `public/data/books.json`
- **–§–∞–π–ª—ã**: 
  - `public/html/book-detail.html`
  - `public/scripts/book-details.js`
  - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –≤ `public/style/style.css`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ API:
- URL: `/html/test-api-response.html`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–ª–∞–¥–∫–∞ API –æ—Ç–≤–µ—Ç–æ–≤

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `pg_ctl status`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ `.env` –∏ `config/config.json`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5432)

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

```
ERROR: relation "categories" already exists
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
npm run db:migrate:undo:all
npm run db:migrate
```

### –û—à–∏–±–∫–∞ "Module not found"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
rm -rf node_modules package-lock.json
npm install
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–∞—Ö `step1.md` –∏ `step2.md`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` —Ñ–∞–π–ª–µ

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–µ–∫—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö lab_1_3
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–º–µ—á–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∏–∑ lab_2.md
- –°–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Step 1 –∏ Step 2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã
