# üóÑÔ∏è –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üìã –û–±–∑–æ—Ä

–ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –ø—Ä–∏–º–µ–Ω–∏–º –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –∑–∞–ø–æ–ª–Ω–∏–º –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø–µ—Ä–≤–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

## üéØ –¶–µ–ª–∏ —à–∞–≥–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL
2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `bookstore`
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã)
4. –°–æ–∑–¥–∞—Ç—å seeder —Ñ–∞–π–ª—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
5. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î

## üìö –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∏–≥—Ä–∞—Ü–∏–∏?

**–ú–∏–≥—Ä–∞—Ü–∏–∏** ‚Äî —ç—Ç–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–¥–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ —Ç.–¥.).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ë–î
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (rollback)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ë–î –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

### –ß—Ç–æ —Ç–∞–∫–æ–µ seeders?

**Seeders** ‚Äî —ç—Ç–æ —Ñ–∞–π–ª—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ä–æ–ª–∏)
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ë–î** ‚Üí 2. **–ú–∏–≥—Ä–∞—Ü–∏–∏** ‚Üí 3. **Seeders**

–í–∞–∂–Ω–æ: Seeders –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ü–û–°–õ–ï –º–∏–≥—Ä–∞—Ü–∏–π, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

## üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

#### Windows

1. –°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ PostgreSQL](https://www.postgresql.org/download/windows/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (PostgreSQL Server, pgAdmin 4, Command Line Tools)
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres` (–∑–∞–ø–æ–º–Ω–∏—Ç–µ –µ–≥–æ!)
5. –ü–æ—Ä—Ç –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `5432`
6. –ó–∞–≤–µ—Ä—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**

```bash
psql --version
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏—é PostgreSQL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `psql (PostgreSQL) 16.0`)

#### macOS

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Homebrew:

```bash
brew install postgresql@16
brew services start postgresql@16
```

#### Linux (Ubuntu/Debian)

```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ psql (–∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)

**Windows:**

```bash
psql -U postgres
```

**Linux/macOS:**

```bash
sudo -u postgres psql
```

**–í psql –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
CREATE USER bookstore_user WITH PASSWORD 'secure_password';

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE bookstore OWNER postgres;

-- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GRANT ALL PRIVILEGES ON DATABASE bookstore TO bookstore_user;

-- –í—ã—Ö–æ–¥
\q
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Sequelize CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `config/config.json` —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```json
{
  "development": {
    "username": "postgres",
    "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å",
    "database": "bookstore",
    "host": "localhost",
    "port": 5432,
    "dialect": "postgres"
  }
}
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_–ø–∞—Ä–æ–ª—å` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å PostgreSQL!

–°–æ–∑–¥–∞–π—Ç–µ –ë–î –∫–æ–º–∞–Ω–¥–æ–π:

```bash
npm run db:create
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
Sequelize CLI [Node: 20.19.5, CLI: 6.6.3, ORM: 6.37.7]

Loaded configuration file "config/config.json".
Using environment "development".
Database bookstore created.
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `bookstore` —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
npm run db:migrate
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
Sequelize CLI [Node: 20.19.5, CLI: 6.6.3, ORM: 6.37.7]

Loaded configuration file "config/config.json".
Using environment "development".
== 20251017142906-create-users: migrating =======
== 20251017142906-create-users: migrated (0.123s)

== 20251017142915-create-categories: migrating =======
== 20251017142915-create-categories: migrated (0.089s)

== 20251017142916-create-authors: migrating =======
== 20251017142916-create-authors: migrated (0.095s)

== 20251017142917-create-books: migrating =======
== 20251017142917-create-books: migrated (0.145s)

== 20251017142917-create-book-authors: migrating =======
== 20251017142917-create-book-authors: migrated (0.102s)

== 20251017142918-create-cart: migrating =======
== 20251017142918-create-cart: migrated (0.098s)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. Sequelize –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–∞–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (—Ç–∞–±–ª–∏—Ü–∞ `SequelizeMeta`)
2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è (–ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–µ –≤ –∏–º–µ–Ω–∏)
3. –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î —Å–æ–≥–ª–∞—Å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö
4. –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –∏ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `categories` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–Ω–∏–≥
- `authors` ‚Äî –∞–≤—Ç–æ—Ä—ã
- `books` ‚Äî –∫–Ω–∏–≥–∏
- `book_authors` ‚Äî —Å–≤—è–∑—å –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤
- `cart` ‚Äî –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
- `SequelizeMeta` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–π (—Å–ª—É–∂–µ–±–Ω–∞—è)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:

```bash
psql -U postgres -d bookstore
```

**–í psql –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```sql
-- –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
\dt

-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã users
\d users

-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã books
\d books

-- –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î
\di

-- –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏
SELECT
  tc.table_name,
  kcu.column_name,
  ccu.table_name AS foreign_table_name,
  ccu.column_name AS foreign_column_name
FROM information_schema.table_constraints AS tc
JOIN information_schema.key_column_usage AS kcu
  ON tc.constraint_name = kcu.constraint_name
JOIN information_schema.constraint_column_usage AS ccu
  ON ccu.constraint_name = tc.constraint_name
WHERE tc.constraint_type = 'FOREIGN KEY';

-- –í—ã—Ö–æ–¥
\q
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

```
          List of relations
 Schema |      Name       | Type  |  Owner
--------+-----------------+-------+----------
 public | SequelizeMeta   | table | postgres
 public | authors         | table | postgres
 public | book_authors    | table | postgres
 public | books           | table | postgres
 public | cart            | table | postgres
 public | categories      | table | postgres
 public | users           | table | postgres
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ seeder —Ñ–∞–π–ª–æ–≤

–ú—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ seeder —Ñ–∞–π–ª—ã –Ω–∞ —à–∞–≥–µ 1. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

#### 5.1 Seeder –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π (seeders/XXXXXX-demo-categories.js)

–≠—Ç–æ—Ç —Ñ–∞–π–ª –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `categories` —á–µ—Ç—ã—Ä—å–º—è –∂–∞–Ω—Ä–∞–º–∏ –∫–Ω–∏–≥:

```javascript
'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
    await queryInterface.bulkInsert('categories', [
      {
        id: 1,
        name: '–†–æ–º–∞–Ω—Ç–∏–∫–∞',
        slug: 'romance',
        description: '–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 2,
        name: '–î—Ä–∞–º–∞',
        slug: 'drama',
        description: '–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Å –≥–ª—É–±–æ–∫–∏–º —Å–º—ã—Å–ª–æ–º',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 3,
        name: '–ë–∏–æ–≥—Ä–∞—Ñ–∏—è',
        slug: 'bio',
        description: '–ë–∏–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 4,
        name: '–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞',
        slug: 'fantasy',
        description: '–§–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏ –Ω–∞—É—á–Ω–æ-—Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è',
        createdAt: new Date(),
        updatedAt: new Date()
      }
    ], {});
  },

  async down (queryInterface, Sequelize) {
    await queryInterface.bulkDelete('categories', null, {});
  }
};
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**

- **up()** ‚Äî –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è seeder (–≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
- **down()** ‚Äî –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–∫–∞—Ç–∞ (—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
- **bulkInsert()** ‚Äî –º–∞—Å—Å–æ–≤–∞—è –≤—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–µ–π
- **createdAt, updatedAt** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

#### 5.2 Seeder –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤ (seeders/XXXXXX-demo-authors.js)

–î–æ–±–∞–≤–ª—è–µ—Ç 6 –∞–≤—Ç–æ—Ä–æ–≤ –∏–∑ –ø–µ—Ä–≤–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

```javascript
'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
    await queryInterface.bulkInsert('authors', [
      {
        id: 1,
        name: '–ú–∞—Ä–≥–∞—Ä–µ—Ç –ú–∏—Ç—á–µ–ª–ª',
        bio: '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –ø–∏—Å–∞—Ç–µ–ª—å–Ω–∏—Ü–∞, –∞–≤—Ç–æ—Ä —Ä–æ–º–∞–Ω–∞ "–£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º"',
        authorType: 'foreign',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 2,
        name: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –û—Å—Ç—Ä–æ–≤—Å–∫–∏–π',
        bio: '–†—É—Å—Å–∫–∏–π –¥—Ä–∞–º–∞—Ç—É—Ä–≥, —Å–æ–∑–¥–∞—Ç–µ–ª—å —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∞—Ç—Ä–∞',
        authorType: 'russian',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 3,
        name: '–ê–ª–µ–∫—Å–µ–π –ë–∏—Ä—é–ª–∏–Ω',
        bio: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å',
        authorType: 'russian',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 4,
        name: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ë–µ–ª—è–µ–≤',
        bio: '–†—É—Å—Å–∫–∏–π –∏ —Å–æ–≤–µ—Ç—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å-—Ñ–∞–Ω—Ç–∞—Å—Ç, –æ–¥–∏–Ω –∏–∑ –æ—Å–Ω–æ–≤–æ–ø–æ–ª–æ–∂–Ω–∏–∫–æ–≤ —Å–æ–≤–µ—Ç—Å–∫–æ–π –Ω–∞—É—á–Ω–æ–π —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∏',
        authorType: 'russian',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 5,
        name: '–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏',
        bio: '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å, –ø–æ—ç—Ç, —ç—Å—Å–µ–∏—Å—Ç –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ª—ë—Ç—á–∏–∫',
        authorType: 'foreign',
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        id: 6,
        name: '–§—Ä—ç–Ω—Å–∏—Å –°–∫–æ—Ç—Ç –§–∏—Ü–¥–∂–µ—Ä–∞–ª—å–¥',
        bio: '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å, –∫—Ä—É–ø–Ω–µ–π—à–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å "–ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è" –≤ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ',
        authorType: 'foreign',
        createdAt: new Date(),
        updatedAt: new Date()
      }
    ], {});
  },

  async down (queryInterface, Sequelize) {
    await queryInterface.bulkDelete('authors', null, {});
  }
};
```

**–ü–æ–ª—è:**

- **name** ‚Äî –∏–º—è –∞–≤—Ç–æ—Ä–∞
- **bio** ‚Äî –±–∏–æ–≥—Ä–∞—Ñ–∏—è
- **authorType** ‚Äî —Ç–∏–ø –∞–≤—Ç–æ—Ä–∞ ('russian' –∏–ª–∏ 'foreign')

#### 5.3 Seeder –¥–ª—è –∫–Ω–∏–≥ (seeders/XXXXXX-demo-books.js)

–î–æ–±–∞–≤–ª—è–µ—Ç 6 –∫–Ω–∏–≥ –∏–∑ –ø–µ—Ä–≤–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—è–º–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–ª–∏—á–∏—è –Ω–∞ —Å–∫–ª–∞–¥–µ:

```javascript
'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
    await queryInterface.bulkInsert('books', [
      {
        id: 1,
        title: '–£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º',
        categoryId: 1, // –†–æ–º–∞–Ω—Ç–∏–∫–∞
        price: 900,
        priceCategory: 'low',
        image: 'book1.jpg',
        shortDescription: '¬´–£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º¬ª ‚Äî –º–∞—Å—à—Ç–∞–±–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ –ª—é–±–≤–∏, –≤–æ–π–Ω–µ –∏ –≤—ã–∂–∏–≤–∞–Ω–∏–∏ –Ω–∞ —Ñ–æ–Ω–µ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π –≤–æ–π–Ω—ã –≤ –°–®–ê.',
        fullDescription: '¬´–£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º¬ª ‚Äî —Ä–æ–º–∞–Ω –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–π –ø–∏—Å–∞—Ç–µ–ª—å–Ω–∏—Ü—ã –ú–∞—Ä–≥–∞—Ä–µ—Ç –ú–∏—Ç—á–µ–ª–ª...',
        stock: 15,
        popularity: 156,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏
    ], {});
  },

  async down (queryInterface, Sequelize) {
    await queryInterface.bulkDelete('books', null, {});
  }
};
```

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**

- **stock** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ (–æ—Ç 8 –¥–æ 25 –µ–¥–∏–Ω–∏—Ü)
- **popularity** ‚Äî —Å—á–µ—Ç—á–∏–∫ –ø–æ–∫—É–ø–æ–∫ (–æ—Ç 45 –¥–æ 312)

**–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏:**

1. –ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü ‚Äî 312 (—Å–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è)
2. –ß–µ–ª–æ–≤–µ–∫-–∞–º—Ñ–∏–±–∏—è ‚Äî 203
3. –í–µ–ª–∏–∫–∏–π –ì—ç—Ç—Å–±–∏ ‚Äî 178
4. –£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º ‚Äî 156
5. –ì—Ä–æ–∑–∞ ‚Äî 87
6. –ú–æ—Ä–µ –∏ –∑–≤–µ–∑–¥—ã ‚Äî 45 (–Ω–∞–∏–º–µ–Ω–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞—è)

#### 5.4 Seeder –¥–ª—è —Å–≤—è–∑–∏ –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤ (seeders/XXXXXX-demo-book-authors.js)

–°–æ–∑–¥–∞–µ—Ç —Å–≤—è–∑–∏ –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏:

```javascript
'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
    await queryInterface.bulkInsert('book_authors', [
      {
        id: 1,
        bookId: 1,
        authorId: 1, // –£–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤–µ—Ç—Ä–æ–º - –ú–∞—Ä–≥–∞—Ä–µ—Ç –ú–∏—Ç—á–µ–ª–ª
        createdAt: new Date(),
        updatedAt: new Date()
      },
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏
    ], {});
  },

  async down (queryInterface, Sequelize) {
    await queryInterface.bulkDelete('book_authors', null, {});
  }
};
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ —É –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ –æ–¥–∏–Ω –∞–≤—Ç–æ—Ä, –Ω–æ —Ç–∞–±–ª–∏—Ü–∞ `book_authors` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤—è–∑–∏ –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º (–∫–Ω–∏–≥–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–æ–≤).

### 6. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ seeders

–ó–∞–ø–æ–ª–Ω–∏–º –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
npm run db:seed
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
Sequelize CLI [Node: 20.19.5, CLI: 6.6.3, ORM: 6.37.7]

Loaded configuration file "config/config.json".
Using environment "development".
== 20251017143657-demo-categories: migrating =======
== 20251017143657-demo-categories: migrated (0.045s)

== 20251017143657-demo-authors: migrating =======
== 20251017143657-demo-authors: migrated (0.038s)

== 20251017143658-demo-books: migrating =======
== 20251017143658-demo-books: migrated (0.052s)

== 20251017143659-demo-book-authors: migrating =======
== 20251017143659-demo-book-authors: migrated (0.029s)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. Sequelize –≤—ã–ø–æ–ª–Ω—è–µ—Ç seeders –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è
2. –í—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—ã
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö seeders –≤ —Ç–∞–±–ª–∏—Ü–µ `SequelizeData`

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ:

```bash
psql -U postgres -d bookstore
```

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã:**

```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
SELECT 'categories' as table_name, COUNT(*) as count FROM categories
UNION ALL
SELECT 'authors', COUNT(*) FROM authors
UNION ALL
SELECT 'books', COUNT(*) FROM books
UNION ALL
SELECT 'book_authors', COUNT(*) FROM book_authors;

-- –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT * FROM categories;

-- –í—Å–µ –∞–≤—Ç–æ—Ä—ã
SELECT id, name, "authorType" FROM authors;

-- –ö–Ω–∏–≥–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT 
  b.id,
  b.title,
  b.price,
  b."priceCategory",
  b.stock,
  b.popularity,
  c.name as category
FROM books b
JOIN categories c ON b."categoryId" = c.id
ORDER BY b.popularity DESC;

-- –ö–Ω–∏–≥–∏ —Å –∞–≤—Ç–æ—Ä–∞–º–∏
SELECT 
  b.title,
  a.name as author,
  a."authorType"
FROM books b
JOIN book_authors ba ON b.id = ba."bookId"
JOIN authors a ON ba."authorId" = a.id;

-- –¢–æ–ø-3 —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–Ω–∏–≥–∏
SELECT title, popularity, stock
FROM books
ORDER BY popularity DESC
LIMIT 3;

-- –ö–Ω–∏–≥–∏, –∫–æ—Ç–æ—Ä—ã—Ö –æ—Å—Ç–∞–ª–æ—Å—å –º–∞–ª–æ –Ω–∞ —Å–∫–ª–∞–¥–µ (–º–µ–Ω—å—à–µ 10 —à—Ç—É–∫)
SELECT title, stock, price
FROM books
WHERE stock < 10
ORDER BY stock ASC;

-- –í—ã—Ö–æ–¥
\q
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

```
 table_name    | count
---------------+-------
 categories    |     4
 authors       |     6
 books         |     6
 book_authors  |     6
```

### 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î —á–µ—Ä–µ–∑ Sequelize –º–æ–¥–µ–ª–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test-db.js` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
require('dotenv').config();
const db = require('./models');

async function testDatabase() {
  try {
    // –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    await db.sequelize.authenticate();
    console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–Ω–∏–≥ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
    const books = await db.Book.findAll({
      include: [
        {
          model: db.Category,
          as: 'category',
          attributes: ['name', 'slug']
        },
        {
          model: db.Author,
          as: 'authors',
          through: { attributes: [] }, // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
          attributes: ['name', 'authorType']
        }
      ],
      order: [['popularity', 'DESC']]
    });

    console.log('\nüìö –ö–Ω–∏–≥–∏ –≤ –ë–î (–ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏):');
    console.log('‚ïê'.repeat(80));

    books.forEach((book, index) => {
      const author = book.authors[0];
      console.log(`\n${index + 1}. ${book.title}`);
      console.log(`   –ê–≤—Ç–æ—Ä: ${author.name} (${author.authorType})`);
      console.log(`   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${book.category.name}`);
      console.log(`   –¶–µ–Ω–∞: ${book.price} —Ä—É–±. (${book.priceCategory})`);
      console.log(`   –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: ${book.popularity} –ø–æ–∫—É–ø–æ–∫`);
      console.log(`   –ù–∞ —Å–∫–ª–∞–¥–µ: ${book.stock} —à—Ç.`);
    });

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–Ω–∏–≥
    const categories = await db.Category.findAll({
      include: [{
        model: db.Book,
        as: 'books',
        attributes: []
      }],
      attributes: [
        'id',
        'name',
        [db.sequelize.fn('COUNT', db.sequelize.col('books.id')), 'bookCount']
      ],
      group: ['Category.id'],
      raw: true
    });

    console.log('\n\nüìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:');
    console.log('‚ïê'.repeat(40));
    categories.forEach(cat => {
      console.log(`${cat.name}: ${cat.bookCount} –∫–Ω–∏–≥(–∏)`);
    });

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ —Ç–∏–ø—É
    const russianAuthors = await db.Author.count({ where: { authorType: 'russian' } });
    const foreignAuthors = await db.Author.count({ where: { authorType: 'foreign' } });

    console.log('\n\nüë• –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º:');
    console.log('‚ïê'.repeat(40));
    console.log(`–†–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–≤—Ç–æ—Ä—ã: ${russianAuthors}`);
    console.log(`–ó–∞—Ä—É–±–µ–∂–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã: ${foreignAuthors}`);

    // –ö–Ω–∏–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º
    const lowStock = await db.Book.findAll({
      where: {
        stock: {
          [db.Sequelize.Op.lt]: 10
        }
      },
      attributes: ['title', 'stock'],
      order: [['stock', 'ASC']]
    });

    if (lowStock.length > 0) {
      console.log('\n\n‚ö†Ô∏è  –ö–Ω–∏–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º (< 10 —à—Ç.):');
      console.log('‚ïê'.repeat(40));
      lowStock.forEach(book => {
        console.log(`${book.title}: ${book.stock} —à—Ç.`);
      });
    }

    console.log('\n\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');
    process.exit(0);

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
    process.exit(1);
  }
}

testDatabase();
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**

```bash
node test-db.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

üìö –ö–Ω–∏–≥–∏ –≤ –ë–î (–ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏):
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

1. –ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü
   –ê–≤—Ç–æ—Ä: –ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏ (foreign)
   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞
   –¶–µ–Ω–∞: 890 —Ä—É–±. (low)
   –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 312 –ø–æ–∫—É–ø–æ–∫
   –ù–∞ —Å–∫–ª–∞–¥–µ: 25 —à—Ç.

2. –ß–µ–ª–æ–≤–µ–∫-–∞–º—Ñ–∏–±–∏—è
   –ê–≤—Ç–æ—Ä: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ë–µ–ª—è–µ–≤ (russian)
   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞
   –¶–µ–Ω–∞: 1750 —Ä—É–±. (high)
   –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å: 203 –ø–æ–∫—É–ø–æ–∫
   –ù–∞ —Å–∫–ª–∞–¥–µ: 12 —à—Ç.

... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–∏–≥–∏)

üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–†–æ–º–∞–Ω—Ç–∏–∫–∞: 1 –∫–Ω–∏–≥(–∏)
–î—Ä–∞–º–∞: 2 –∫–Ω–∏–≥(–∏)
–ë–∏–æ–≥—Ä–∞—Ñ–∏—è: 1 –∫–Ω–∏–≥(–∏)
–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞: 2 –∫–Ω–∏–≥(–∏)

üë• –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–†–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–≤—Ç–æ—Ä—ã: 3
–ó–∞—Ä—É–±–µ–∂–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã: 3

‚ö†Ô∏è  –ö–Ω–∏–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∑–∞–ø–∞—Å–æ–º (< 10 —à—Ç.):
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ú–æ—Ä–µ –∏ –∑–≤–µ–∑–¥—ã: 8 —à—Ç.

‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!
```

### 9. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

#### –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
npm run db:migrate:undo
```

#### –û—Ç–∫–∞—Ç –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π

```bash
npx sequelize-cli db:migrate:undo:all
```

#### –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –ë–î —Å –Ω—É–ª—è

```bash
npm run db:reset
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
1. –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –ë–î seeders

#### –û—Ç–∫–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ seeder

```bash
npx sequelize-cli db:seed:undo --seed 20251017143657-demo-categories.js
```

#### –û—Ç–∫–∞—Ç –≤—Å–µ—Ö seeders

```bash
npx sequelize-cli db:seed:undo:all
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –ø—É–Ω–∫—Ç—ã:

- [ ] PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `bookstore` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –§–∞–π–ª `config/config.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `npm run db:migrate` –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞–Ω–æ 6 —Ç–∞–±–ª–∏—Ü + SequelizeMeta
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `npm run db:seed` –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ `categories` 4 –∑–∞–ø–∏—Å–∏
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ `authors` 6 –∑–∞–ø–∏—Å–µ–π
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ `books` 6 –∑–∞–ø–∏—Å–µ–π
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ `book_authors` 6 –∑–∞–ø–∏—Å–µ–π
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test-db.js` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –î–∞–Ω–Ω—ã–µ –≤ –ë–î —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–º –∏–∑ lab_1_3

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   users     ‚îÇ       ‚îÇ  categories  ‚îÇ       ‚îÇ   authors   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)     ‚îÇ       ‚îÇ id (PK)      ‚îÇ       ‚îÇ id (PK)     ‚îÇ
‚îÇ username    ‚îÇ       ‚îÇ name         ‚îÇ       ‚îÇ name        ‚îÇ
‚îÇ email       ‚îÇ       ‚îÇ slug         ‚îÇ       ‚îÇ bio         ‚îÇ
‚îÇ password    ‚îÇ       ‚îÇ description  ‚îÇ       ‚îÇ authorType  ‚îÇ
‚îÇ firstName   ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ lastName    ‚îÇ                ‚îÇ                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ                     ‚îÇ
      ‚îÇ                        ‚îÇ                     ‚îÇ
      ‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ                   ‚îÇ         books                 ‚îÇ
      ‚îÇ                   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
      ‚îÇ                   ‚îÇ id (PK)                       ‚îÇ
      ‚îÇ                   ‚îÇ title                         ‚îÇ
      ‚îÇ                   ‚îÇ categoryId (FK)               ‚îÇ
      ‚îÇ                   ‚îÇ price                         ‚îÇ
      ‚îÇ                   ‚îÇ priceCategory                 ‚îÇ
      ‚îÇ                   ‚îÇ image                         ‚îÇ
      ‚îÇ                   ‚îÇ shortDescription              ‚îÇ
      ‚îÇ                   ‚îÇ fullDescription               ‚îÇ
      ‚îÇ                   ‚îÇ stock                         ‚îÇ
      ‚îÇ                   ‚îÇ popularity                    ‚îÇ
      ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ                        ‚îÇ              ‚îÇ
      ‚îÇ                        ‚îÇ              ‚îÇ
      ‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ                   ‚îÇbook_authors‚îÇ  ‚îÇ    cart     ‚îÇ
      ‚îÇ                   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
      ‚îÇ                   ‚îÇ id (PK)    ‚îÇ  ‚îÇ id (PK)     ‚îÇ
      ‚îÇ                   ‚îÇ bookId(FK) ‚îÇ  ‚îÇ userId (FK) ‚îÇ‚óÑ‚îÄ‚îÄ‚îò
      ‚îÇ                   ‚îÇauthorId(FK)‚îÇ  ‚îÇ bookId (FK) ‚îÇ
      ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ quantity    ‚îÇ
      ‚îÇ                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéì –ß—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É PostgreSQL**
2. **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ Sequelize CLI
3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
4. **–°–æ–∑–¥–∞–Ω–∏–µ seeder —Ñ–∞–π–ª–æ–≤** –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î
5. **–†–∞–±–æ—Ç—É —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏** –∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
6. **–ü—Ä–æ–≤–µ—Ä–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î** —á–µ—Ä–µ–∑ psql
7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î** —á–µ—Ä–µ–∑ Sequelize –º–æ–¥–µ–ª–∏
8. **SQL –∑–∞–ø—Ä–æ—Å—ã** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ –º—ã:

1. –°–æ–∑–¥–∞–¥–∏–º API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–∏–≥–∞–º–∏
2. –†–µ–∞–ª–∏–∑—É–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –°–æ–∑–¥–∞–¥–∏–º –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–∫—É–ø–æ–∫
4. –ü–æ–¥–∫–ª—é—á–∏–º frontend –∫ backend API

**–ü–µ—Ä–µ—Ö–æ–¥ –∫ [–®–∞–≥—É 3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API endpoints](step3.md)** ‚û°Ô∏è
