# üìö –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –∫–Ω–∏–≥

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–≠—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –∫–Ω–∏–≥ —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:
- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ —Å –∞–≤—Ç–æ—Ä–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏
- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
- ‚ùå –£–±—Ä–∞–Ω—ã: –∑–∞–∫–∞–∑—ã, –æ—Ç–∑—ã–≤—ã, —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (7 —Ç–∞–±–ª–∏—Ü)

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**
1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ (customer, admin, manager)
2. **categories** - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–Ω–∏–≥
3. **publishers** - –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
4. **authors** - –∞–≤—Ç–æ—Ä—ã –∫–Ω–∏–≥
5. **books** - –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥

### **–°–≤—è–∑—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**
6. **book_authors** - —Å–≤—è–∑—å –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤ (many-to-many)
7. **cart_items** - –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫

## üìä –°—Ö–µ–º–∞ –¥–ª—è dbdiagram.io
–§–∞–π–ª `database-schema.dbml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é —Å—Ö–µ–º—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ DBML –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ [dbdiagram.io](https://dbdiagram.io/)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd "lab_2_sequelize 1-3-2"

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npx sequelize-cli db:create

# 4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)
npx sequelize-cli db:migrate

# 5. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npx sequelize-cli db:seed:all

# 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
node test-models.js
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
lab_2_sequelize 1-3-2/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ config.json              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
‚îú‚îÄ‚îÄ migrations/                  # 7 –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120001-create-users.js
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120002-create-categories.js
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120003-create-publishers.js
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120004-create-authors.js
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120005-create-books.js
‚îÇ   ‚îú‚îÄ‚îÄ 20241014120006-create-book-authors.js
‚îÇ   ‚îî‚îÄ‚îÄ 20241014120010-create-cart-items.js
‚îú‚îÄ‚îÄ models/                      # 7 –º–æ–¥–µ–ª–µ–π Sequelize
‚îÇ   ‚îú‚îÄ‚îÄ User.js
‚îÇ   ‚îú‚îÄ‚îÄ Category.js
‚îÇ   ‚îú‚îÄ‚îÄ Publisher.js
‚îÇ   ‚îú‚îÄ‚îÄ Author.js
‚îÇ   ‚îú‚îÄ‚îÄ Book.js
‚îÇ   ‚îú‚îÄ‚îÄ BookAuthor.js
‚îÇ   ‚îú‚îÄ‚îÄ CartItem.js
‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îú‚îÄ‚îÄ seeders/
‚îÇ   ‚îî‚îÄ‚îÄ 20241014120001-demo-data.js  # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ database-schema.dbml         # –°—Ö–µ–º–∞ –¥–ª—è dbdiagram.io
‚îú‚îÄ‚îÄ test-models.js              # –¢–µ—Å—Ç –º–æ–¥–µ–ª–µ–π
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤—è–∑–∏
- `categories.parent_id ‚Üí categories.id` (–∏–µ—Ä–∞—Ä—Ö–∏—è)
- `books.category_id ‚Üí categories.id` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `books.publisher_id ‚Üí publishers.id` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `book_authors.book_id ‚Üí books.id` (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)
- `book_authors.author_id ‚Üí authors.id` (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)
- `cart_items.user_id ‚Üí users.id` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)
- `cart_items.book_id ‚Üí books.id` (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)

## üíæ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç:
- **5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π** (–≤–∫–ª—é—á–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—é)
- **3 –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞** (–ê–°–¢, –≠–∫—Å–º–æ, –ê–∑–±—É–∫–∞-–ê—Ç—Ç–∏–∫—É—Å)
- **6 –∞–≤—Ç–æ—Ä–æ–≤** (–∫–ª–∞—Å—Å–∏–∫–∏ —Ä—É—Å—Å–∫–æ–π –∏ –∑–∞—Ä—É–±–µ–∂–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã)
- **6 –∫–Ω–∏–≥** (—Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π)
- **3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (admin, manager, customer)
- **2 –ø–æ–∑–∏—Ü–∏–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üõ†Ô∏è –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –°–æ–∑–¥–∞–Ω–∏–µ API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Express —Å–µ—Ä–≤–µ—Ä–∞
3. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏