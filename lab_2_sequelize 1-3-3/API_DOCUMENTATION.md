# Bookstore REST API

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π REST API –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –∫–Ω–∏–≥ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π JWT –∏ —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é –¥–æ—Å—Ç—É–ø–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npm run db:setup

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000`

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
```
GET /api
```
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "SecurePass123",
  "firstName": "–ò–º—è",
  "lastName": "–§–∞–º–∏–ª–∏—è"
}
```

#### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "SecurePass123"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "email": "user@example.com",
      "firstName": "–ò–º—è",
      "lastName": "–§–∞–º–∏–ª–∏—è",
      "role": "user"
    }
  }
}
```

#### –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
GET /api/auth/profile
Authorization: Bearer <token>
```

### –ö–Ω–∏–≥–∏ (`/api/books`)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥
```http
GET /api/books?page=1&limit=20&search=javascript&category=1&minPrice=500&maxPrice=2000
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20, –º–∞–∫—Å–∏–º—É–º: 100)
- `search` - –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é, ISBN
- `category` - ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `publisher` - ID –∏–∑–¥–∞—Ç–µ–ª—è
- `author` - ID –∞–≤—Ç–æ—Ä–∞
- `minPrice`, `maxPrice` - –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- `year` - –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è
- `inStock` - —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏ (true/false)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ ID
```http
GET /api/books/:id
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
```http
POST /api/books
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "title": "–ò–∑—É—á–∞–µ–º JavaScript",
  "description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ JavaScript",
  "price": 1500.00,
  "categoryId": 1,
  "publisherId": 1,
  "authorIds": [1, 2],
  "publicationYear": 2024,
  "isbn": "978-5-123456-78-9",
  "pages": 450,
  "stock": 10,
  "image": "https://example.com/book-cover.jpg"
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (`/api/categories`)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```http
GET /api/categories
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID
```http
GET /api/categories/:id
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```http
GET /api/categories/:id/books?page=1&limit=10
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
```http
POST /api/categories
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
  "description": "–ö–Ω–∏–≥–∏ –ø–æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ",
  "parentId": 1
}
```

### –ò–∑–¥–∞—Ç–µ–ª–∏ (`/api/publishers`)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–∑–¥–∞—Ç–µ–ª–µ–π
```http
GET /api/publishers?page=1&limit=20&search=–ø–∏—Ç–µ—Ä
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—è –ø–æ ID
```http
GET /api/publishers/:id
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥ –∏–∑–¥–∞—Ç–µ–ª—è
```http
GET /api/publishers/:id/books?page=1&limit=10
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–¥–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
```http
POST /api/publishers
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "–ù–æ–≤–æ–µ –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ",
  "description": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ",
  "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1",
  "phone": "+7 (495) 123-45-67",
  "email": "info@publisher.ru",
  "website": "https://publisher.ru"
}
```

### –ê–≤—Ç–æ—Ä—ã (`/api/authors`)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–≤—Ç–æ—Ä–æ–≤
```http
GET /api/authors?page=1&limit=20&search=–∏–≤–∞–Ω–æ–≤
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ –ø–æ ID
```http
GET /api/authors/:id
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥ –∞–≤—Ç–æ—Ä–∞
```http
GET /api/authors/:id/books?page=1&limit=10
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
```http
POST /api/authors
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "firstName": "–ò–≤–∞–Ω",
  "lastName": "–ü–µ—Ç—Ä–æ–≤",
  "birthDate": "1985-03-15",
  "deathDate": null,
  "nationality": "–†—É—Å—Å–∫–∏–π",
  "biography": "–ò–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∏ –∞–≤—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–Ω–∏–≥"
}
```

### –ö–æ—Ä–∑–∏–Ω–∞ (`/api/cart`)

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
GET /api/cart
Authorization: Bearer <token>
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É
```http
POST /api/cart
Authorization: Bearer <token>
Content-Type: application/json

{
  "bookId": 1,
  "quantity": 2
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ
```http
PUT /api/cart/:cartItemId
Authorization: Bearer <token>
Content-Type: application/json

{
  "quantity": 3
}
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
```http
DELETE /api/cart/:cartItemId
Authorization: Bearer <token>
```

#### –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
```http
DELETE /api/cart
Authorization: Bearer <token>
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### JWT –¢–æ–∫–µ–Ω—ã
API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`:

```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **user** - –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–æ—Å—Ç—É–ø –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∏ –∫–æ—Ä–∑–∏–Ω–µ)
- **admin** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–æ–ª—è–º
- –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞
- –¢–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –∏ —Ü–∏—Ñ—Ä—ã

## üìÑ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "success": true,
  "data": {
    // –¥–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
  },
  "message": "–°–æ–æ–±—â–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
  "pagination": {
    "currentPage": 1,
    "totalPages": 5,
    "totalItems": 100,
    "itemsPerPage": 20,
    "hasNext": true,
    "hasPrev": false
  }
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
```json
{
  "success": false,
  "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "errors": [
    {
      "field": "email",
      "message": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email"
    }
  ]
}
```

## üìä –ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP

- `200` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `201` - –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
- `400` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `401` - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üõ† –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

API –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

### –ö–Ω–∏–≥–∏
- `title` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, 1-200 —Å–∏–º–≤–æ–ª–æ–≤
- `price` - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- `isbn` - —Ñ–æ—Ä–º–∞—Ç ISBN-10 –∏–ª–∏ ISBN-13
- `publicationYear` - –≥–æ–¥ –æ—Ç 1000 –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞
- `pages` - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
- `stock` - –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `email` - –≤–∞–ª–∏–¥–Ω—ã–π email –∞–¥—Ä–µ—Å
- `password` - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `firstName`, `lastName` - 1-50 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã

### –ê–≤—Ç–æ—Ä—ã
- `firstName`, `lastName` - 1-50 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã
- `birthDate`, `deathDate` - —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD, –ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç
- `nationality` - —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ –ø—Ä–æ–±–µ–ª—ã

## üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### –ü–æ–∏—Å–∫ –ø–æ –∫–Ω–∏–≥–∞–º
```http
GET /api/books?search=javascript&category=1&minPrice=500&maxPrice=2000&inStock=true
```

### –ü–æ–∏—Å–∫ –ø–æ –∞–≤—Ç–æ—Ä–∞–º
```http
GET /api/authors?search=—Ç–æ–ª—Å—Ç–æ–π
```

–ü–æ–∏—Å–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (case-insensitive)
- –ü–æ–∏—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ curl
```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"Test123456","firstName":"–¢–µ—Å—Ç","lastName":"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}'

# –í—Ö–æ–¥
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"Test123456"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥
curl -X GET "http://localhost:3000/api/books?page=1&limit=5"

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É (–∑–∞–º–µ–Ω–∏—Ç–µ TOKEN)
curl -X POST http://localhost:3000/api/cart \
  -H "Authorization: Bearer TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"bookId":1,"quantity":1}'
```

### –¢–µ—Å—Ç–æ–≤—ã–π –≥–∞–π–¥
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `test-api-guide.js` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
```bash
node test-api-guide.js
```

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–Ω–∏–≥ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏)
- `publishers` - –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- `authors` - –∞–≤—Ç–æ—Ä—ã
- `books` - –∫–Ω–∏–≥–∏
- `book_authors` - —Å–≤—è–∑—å –∫–Ω–∏–≥–∏-–∞–≤—Ç–æ—Ä—ã (–º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º)
- `cart_items` - —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°–≤—è–∑–∏
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å (parent_id)
- –ö–Ω–∏–≥–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–≤—Ç–æ—Ä–æ–≤
- –ö–æ—Ä–∑–∏–Ω–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏–º–µ—é—Ç –∫–∞—Å–∫–∞–¥–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`:
```
NODE_ENV=development
PORT=3000
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=7d

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bookstore
DB_USER=postgres
DB_PASSWORD=password
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

API –≤–∫–ª—é—á–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û–ø–µ—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Production
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `NODE_ENV=production`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `npm run db:migrate`
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: `npm run db:seed`
6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm start`

### Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```dockerfile
FROM node:18
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ JWT —Ç–æ–∫–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/health` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–ê–≤—Ç–æ—Ä:** –ê–Ω–∞—Å—Ç–∞—Å–∏—è –í–∞—Ä–≥–∞–Ω–æ–≤–∞  
**–í–µ—Ä—Å–∏—è API:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024