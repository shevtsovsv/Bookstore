@@ -1,9 +1,9 @@
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ - –ö–Ω–∏–∂–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</title>
    <link rel="stylesheet" href="../style/style.css" />
  </head>
  <body>
    <header>
      <img
        src="../img/logo.png"
        alt="–õ–æ–≥–æ—Ç–∏–ø –º–∞–≥–∞–∑–∏–Ω–∞"
        class="logo"
        width="140"
        height="70"
      />
      <nav>
        <ul class="menu">
          <li><a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="book.html" class="active">–ö–∞—Ç–∞–ª–æ–≥</a></li>
          <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
          <li><a href="register.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></li>
          <li><a href="login.html">–í—Ö–æ–¥</a></li>
        </ul>
      </nav>
    </header>

    <main class="container">
      <h1>–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</h1>
      <!-- Filters Section -->
      <div class="filters-section">
        <h2>–§–∏–ª—å—Ç—Ä—ã</h2>
        <div class="filters-row">
          <div class="filter-item">
            <label for="category-select">–ñ–∞–Ω—Ä:</label>
            <select id="category-select" name="category">
              <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
              <!-- Options will be populated by JavaScript -->
            </select>
          </div>

          <div class="filter-item">
            <label for="price-select">–¶–µ–Ω–∞:</label>
            <select id="price-select" name="price">
              <option value="all">–í—Å–µ —Ü–µ–Ω—ã</option>
              <option value="low">–î–æ 1000 —Ä—É–±.</option>
              <option value="medium">1000-2000 —Ä—É–±.</option>
              <option value="high">–û—Ç 2000 —Ä—É–±.</option>
            </select>
          </div>

          <div class="filter-item">
            <label for="author-type-select">–ê–≤—Ç–æ—Ä:</label>
            <select id="author-type-select" name="authorType">
              <option value="all">–í—Å–µ –∞–≤—Ç–æ—Ä—ã</option>
              <option value="russian">–†—É—Å—Å–∫–∏–µ</option>
              <option value="foreign">–ó–∞—Ä—É–±–µ–∂–Ω—ã–µ</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Catalog Controls -->
      <div class="catalog-controls">
        <div class="left-controls">
          <div class="items-per-page">
            <label for="items-per-page">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</label>
            <div class="items-control-group">
              <select id="items-per-page">
                <option value="4">4</option>
                <option value="8">8</option>
                <option value="12">12</option>
                <option value="16" selected>16</option>
                <option value="20">20</option>
                <option value="24">24</option>
                <option value="28">28</option>
                <option value="all">üìú –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ (–ª–µ–Ω—Ç–∞)</option>
                <option value="custom">–î—Ä—É–≥–æ–µ</option>
              </select>
              <input
                type="number"
                id="custom-items"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ"
                min="1"
                max="1000"
                style="display: none"
              />
              <button id="apply-custom" style="display: none">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
          </div>
          <div id="page-info" class="page-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <div class="right-controls">
          <!-- Pagination Controls -->
          <div id="pagination-controls" class="pagination"></div>
        </div>
      </div>
      <!-- Loading Indicator -->
      <div id="loading" class="loading" style="display: none">
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥...</p>
      </div>

      <!-- Books Container -->
      <div id="books-container" class="books-grid">
        <div class="loading">
          <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞...</p>
        </div>
      </div>

      <!-- Infinite Scroll Elements -->
      <div
        id="infinite-scroll-info"
        class="infinite-scroll-info"
        style="display: none"
      >
        <p>
          üìú –†–µ–∂–∏–º "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ" - –∫–Ω–∏–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏
          –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
        </p>
        <div class="progress-container">
          <div class="progress-text">
            –ó–∞–≥—Ä—É–∂–µ–Ω–æ: <span id="loaded-count">0</span> –∏–∑
            <span id="total-count">0</span> –∫–Ω–∏–≥
          </div>
          <div class="progress-bar">
            <div
              id="progress-fill"
              class="progress-fill"
              style="width: 0%"
            ></div>
          </div>
        </div>
        <button id="switch-back-btn" class="switch-back-btn">
          –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
        </button>
      </div>

      <div id="loading-more" class="loading-more-books" style="display: none">
        <p>‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ–º –µ—â—ë –∫–Ω–∏–≥–∏...</p>
      </div>

      <div id="end-of-catalog" class="end-of-catalog" style="display: none">
        <p>üéâ –í—Å–µ –∫–Ω–∏–≥–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!</p>
        <p>–ù–∞–π–¥–µ–Ω–æ <span id="final-count">0</span> –∫–Ω–∏–≥ –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É</p>
      </div>

      <!-- Scroll Sentinel (invisible element for intersection observer) -->
      <div
        id="scroll-sentinel"
        class="scroll-sentinel"
        style="display: none"
      ></div>
    </main>
    <script src="../scripts/auth-utils.js"></script>
    <script src="../scripts/catalog.js"></script>
  </body>
</html>
