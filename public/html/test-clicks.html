<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–¢–µ—Å—Ç –∫–ª–∏–∫–æ–≤ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .test-card {
        border: 1px solid #ddd;
        padding: 15px;
        margin: 10px 0;
        cursor: pointer;
        border-radius: 5px;
      }
      .test-card:hover {
        background: #f0f0f0;
      }
      .test-button {
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        margin: 5px;
        cursor: pointer;
        border-radius: 3px;
      }
      .test-button:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>–¢–µ—Å—Ç –∫–ª–∏–∫–æ–≤ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º –∫–Ω–∏–≥</h1>

    <div class="test-card" data-book-id="book1">
      <h3>–¢–µ—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞ 1</h3>
      <p>–û–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏</p>
      <div class="book-actions">
        <button class="test-button btn-order" data-book-id="book1">
          –ó–∞–∫–∞–∑–∞—Ç—å
        </button>
        <button class="test-button btn-details" data-book-id="book1">
          –ü–æ–¥—Ä–æ–±–Ω–µ–µ
        </button>
      </div>
    </div>

    <div class="test-card" data-book-id="book2">
      <h3>–¢–µ—Å—Ç–æ–≤–∞—è –∫–Ω–∏–≥–∞ 2</h3>
      <p>–û–ø–∏—Å–∞–Ω–∏–µ –∫–Ω–∏–≥–∏</p>
      <div class="book-actions">
        <button class="test-button btn-order" data-book-id="book2">
          –ó–∞–∫–∞–∑–∞—Ç—å
        </button>
        <button class="test-button btn-details" data-book-id="book2">
          –ü–æ–¥—Ä–æ–±–Ω–µ–µ
        </button>
      </div>
    </div>

    <hr />
    <a href="book.html">üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>

    <script>
      console.log("Test page loaded");

      // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
      document.querySelectorAll(".btn-details").forEach((button) => {
        button.addEventListener("click", function (e) {
          e.preventDefault();
          e.stopPropagation();
          const bookId = this.getAttribute("data-book-id");
          console.log("üîç –ü–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ—Ç–∞–ª—è–º –∫–Ω–∏–≥–∏:", bookId);
          alert(`–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–Ω–∏–≥–µ ${bookId}`);
          // window.location.href = `book-detail.html?id=${bookId}`;
        });
      });

      document.querySelectorAll(".btn-order").forEach((button) => {
        button.addEventListener("click", function (e) {
          e.preventDefault();
          e.stopPropagation();
          const bookId = this.getAttribute("data-book-id");
          console.log("üõí –ó–∞–∫–∞–∑ –∫–Ω–∏–≥–∏:", bookId);
          alert(`–ó–∞–∫–∞–∑ –∫–Ω–∏–≥–∏ ${bookId}`);
        });
      });

      document.querySelectorAll(".test-card").forEach((card) => {
        card.addEventListener("click", function (e) {
          if (!e.target.closest(".book-actions")) {
            const bookId = this.getAttribute("data-book-id");
            console.log("üìö –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–Ω–∏–≥–∏:", bookId);
            alert(`–ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ${bookId}`);
          }
        });
      });
    </script>
  </body>
</html>
