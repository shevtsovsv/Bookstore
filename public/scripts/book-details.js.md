# üìñ –†–∞–∑–±–æ—Ä —Ñ–∞–π–ª–∞ book-details.js - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–µ

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

–≠—Ç–æ—Ç JavaScript —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–Ω–∏–≥–µ. –û–Ω –ø–æ–ª—É—á–∞–µ—Ç ID –∫–Ω–∏–≥–∏ –∏–∑ URL, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–∏–≥–µ.

## üèóÔ∏è –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### IIFE (Immediately Invoked Function Expression) - –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```javascript
(function () {
  // –≤–µ—Å—å –∫–æ–¥ –∑–¥–µ—Å—å
})();
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–∞:**

- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- –ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ "—Å–ø—Ä—è—Ç–∞–Ω—ã" –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏

## üîç –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∫–Ω–∏–≥–∏ –∏–∑ URL

```javascript
function getBookIdFromURL() {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get("id");
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–∞:**

#### –ß—Ç–æ —Ç–∞–∫–æ–µ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

URL –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Å–ª–µ –∑–Ω–∞–∫–∞ `?`:

```
http://example.com/book-detail.html?id=book1&category=fiction
```

#### –†–∞–∑–±–æ—Ä –ø–æ —á–∞—Å—Ç—è–º:

1. **`window.location.search`** - –ø–æ–ª—É—á–∞–µ—Ç —á–∞—Å—Ç—å URL –ø–æ—Å–ª–µ `?`

   - –ù–∞–ø—Ä–∏–º–µ—Ä: `"?id=book1&category=fiction"`

2. **`new URLSearchParams()`** - —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ URL

   - –≠—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript API –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **`.get("id")`** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å –∏–º–µ–Ω–µ–º "id"
   - –í–µ—Ä–Ω–µ—Ç: `"book1"` –∏–ª–∏ `null` –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**

```
URL: book-detail.html?id=book3
–§—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç: "book3"

URL: book-detail.html
–§—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω–µ—Ç: null (–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ—Ç)
```

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∫–Ω–∏–≥–∞—Ö

```javascript
async function loadBooksData() {
  try {
    const response = await fetch("../data/books.json");
    if (!response.ok) {
      throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö");
    }
    const data = await response.json();
    console.log(
      "–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ JSON —Ñ–∞–π–ª–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
    );
    return data.books;
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", error);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ book-data.js
    if (window.BOOKS_DATA && window.BOOKS_DATA.books) {
      console.log("–ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ BOOKS_DATA");
      return window.BOOKS_DATA.books;
    }

    console.warn(
      "‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP —Å–µ—Ä–≤–µ—Ä."
    );
    return null;
  }
}
```

**–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏:**

#### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ async/await:

- **`async`** –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è
- **`await`** - –∂–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π

#### –û—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏:

1. **`fetch("../data/books.json")`** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å –∑–∞ JSON —Ñ–∞–π–ª–æ–º

   - `../` –æ–∑–Ω–∞—á–∞–µ—Ç "–Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ –≤ –ø–∞–ø–∫–∞—Ö"
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise (–æ–±–µ—â–∞–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç)

2. **`await fetch(...)`** - –∂–¥–µ—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

   - –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞

3. **`response.ok`** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ (—Å—Ç–∞—Ç—É—Å 200-299)

   - `true` –µ—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, `false` –µ—Å–ª–∏ –æ—à–∏–±–∫–∞

4. **`response.json()`** - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ—Ç–≤–µ—Ç –≤ JavaScript –æ–±—ä–µ–∫—Ç
   - –¢–∞–∫–∂–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–µ–Ω `await`

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (try...catch):

```javascript
try {
  // –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
} catch (error) {
  // –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —ç—Ç–æ—Ç –±–ª–æ–∫
}
```

#### –ó–∞–ø–∞—Å–Ω–æ–π –ø–ª–∞–Ω:

```javascript
if (window.BOOKS_DATA && window.BOOKS_DATA.books) {
  console.log("–ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ BOOKS_DATA");
  return window.BOOKS_DATA.books;
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å
- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `BOOKS_DATA`
- –≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –¥—Ä—É–≥–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º (book-data.js)
- –ò—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

### 3. –ü–æ–∏—Å–∫ –∫–Ω–∏–≥–∏ –ø–æ ID

```javascript
function findBookById(books, bookId) {
  return books.find((book) => book.id === bookId);
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ find():**

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç find():

- –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –º–∞—Å—Å–∏–≤—É –∫–Ω–∏–≥
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–ø—Ä–æ–≤–µ—Ä–∫—É
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—É–ª–∞ `true`
- –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`

#### –°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

```javascript
(book) => book.id === bookId;
```

**–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:**

```javascript
function(book) {
  return book.id === bookId;
}
```

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**

```javascript
const books = [
  { id: "book1", title: "–ö–Ω–∏–≥–∞ 1" },
  { id: "book2", title: "–ö–Ω–∏–≥–∞ 2" },
];

findBookById(books, "book2");
// –í–µ—Ä–Ω–µ—Ç: { id: "book2", title: "–ö–Ω–∏–≥–∞ 2" }

findBookById(books, "book999");
// –í–µ—Ä–Ω–µ—Ç: undefined (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
```

### 4. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```javascript
function renderBookDetails(book) {
  const container = document.getElementById("book-details");

  if (!book) {
    container.innerHTML = `
      <div class="error">
        <h1>–ö–Ω–∏–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h1>
        <p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è –∫–Ω–∏–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.</p>
        <a href="book.html" class="buy-btn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
      </div>
    `;
    document.getElementById("page-title").textContent = "–ö–Ω–∏–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞";
    return;
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  document.getElementById(
    "page-title"
  ).textContent = `${book.title} ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏`;

  // –†–µ–Ω–¥–µ—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  container.innerHTML = `
    <h1>${book.title}</h1>
    <img src="../img/${book.image}" alt="${book.title} ‚Äî –æ–±–ª–æ–∂–∫–∞" loading="lazy" width="400" height="560">
    <p><strong>–ê–≤—Ç–æ—Ä:</strong> ${book.author}</p>
    <p><strong>–ñ–∞–Ω—Ä:</strong> ${book.genre}</p>
    <p><strong>–¶–µ–Ω–∞:</strong> ${book.price} —Ä—É–±.</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${book.fullDescription}</p>
    <div class="book-actions">
      <button class="buy-btn" onclick="orderBook('${book.id}')" aria-label="–ó–∞–∫–∞–∑–∞—Ç—å ${book.title}">–ó–∞–∫–∞–∑–∞—Ç—å</button>
      <a href="book.html" class="buy-btn" style="background: #34495e; text-decoration: none;">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
    </div>
  `;
}
```

**–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

#### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```javascript
const container = document.getElementById("book-details");
```

- –ù–∞—Ö–æ–¥–∏—Ç HTML —ç–ª–µ–º–µ–Ω—Ç —Å id="book-details"
- –í —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ

#### –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è "–∫–Ω–∏–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

```javascript
if (!book) {
  // –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏
  return; // –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
}
```

#### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```javascript
document.getElementById(
  "page-title"
).textContent = `${book.title} ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏`;
```

- –ù–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç —Å id="page-title"
- –û–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ —Ç–µ–∫—Å—Ç (–æ–±—ã—á–Ω–æ —ç—Ç–æ `<title>` –∏–ª–∏ `<h1>`)

#### –®–∞–≥ 4: –®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (Template Literals)

```javascript
container.innerHTML = `
  <h1>${book.title}</h1>
  ...
`;
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫:**

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ `` ` `` –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö `"`
- –ü–æ–∑–≤–æ–ª—è—é—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `${–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è}`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç HTML

**–ü—Ä–∏–º–µ—Ä:**

```javascript
const name = "–ê–Ω–Ω–∞";
const age = 25;
const html = `<p>–ü—Ä–∏–≤–µ—Ç, ${name}! –¢–µ–±–µ ${age} –ª–µ—Ç.</p>`;
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "<p>–ü—Ä–∏–≤–µ—Ç, –ê–Ω–Ω–∞! –¢–µ–±–µ 25 –ª–µ—Ç.</p>"
```

#### –®–∞–≥ 5: –ê—Ç—Ä–∏–±—É—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

```javascript
<img src="../img/${book.image}" alt="${book.title} ‚Äî –æ–±–ª–æ–∂–∫–∞" loading="lazy" width="400" height="560">
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤:**

- **`alt`** - –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è screen readers (–ø—Ä–æ–≥—Ä–∞–º–º —á—Ç–µ–Ω–∏—è —Å —ç–∫—Ä–∞–Ω–∞)
- **`loading="lazy"`** - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–Ω–æ)
- **`width/height`** - —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è layout shift

#### –®–∞–≥ 6: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

```javascript
<button
  class="buy-btn"
  onclick="orderBook('${book.id}')"
  aria-label="–ó–∞–∫–∞–∑–∞—Ç—å ${book.title}"
>
  –ó–∞–∫–∞–∑–∞—Ç—å
</button>
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- **`onclick`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)
- **`aria-label`** - –º–µ—Ç–∫–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º —á—Ç–µ–Ω–∏—è —Å —ç–∫—Ä–∞–Ω–∞

### 5. –§—É–Ω–∫—Ü–∏—è –∑–∞–∫–∞–∑–∞ –∫–Ω–∏–≥–∏

```javascript
window.orderBook = function (bookId) {
  alert(`–ö–Ω–∏–≥–∞ "${bookId}" –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É! (–≠—Ç–æ –¥–µ–º–æ-—Ñ—É–Ω–∫—Ü–∏—è)`);
};
```

**–ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è window.orderBook:**

- –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É `window`
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –µ—ë –∏–∑ HTML –∞—Ç—Ä–∏–±—É—Ç–∞ `onclick`
- –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å addEventListener

### 6. –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫

```javascript
function showError(message) {
  const container = document.getElementById("book-details");
  container.innerHTML = `
    <div class="error">
      <h1>–û—à–∏–±–∫–∞</h1>
      <p>${message}</p>
      <a href="book.html" class="buy-btn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
    </div>
  `;
}
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
- –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—à–∏–±–∫–∏

### 7. –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```javascript
async function init() {
  const bookId = getBookIdFromURL();

  if (!bookId) {
    showError("–ù–µ —É–∫–∞–∑–∞–Ω ID –∫–Ω–∏–≥–∏ –≤ URL");
    return;
  }

  const books = await loadBooksData();

  if (!books) {
    showError("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö");
    return;
  }

  const book = findBookById(books, bookId);
  renderBookDetails(book);
}
```

**–õ–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **–ü–æ–ª—É—á–∞–µ–º ID –∫–Ω–∏–≥–∏** –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ ID** - –µ—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
3. **–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö** –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
4. **–ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏** - –µ—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
5. **–ò—â–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–Ω–∏–≥—É** –ø–æ ID
6. **–û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç** (–∫–Ω–∏–≥—É –∏–ª–∏ –æ—à–∏–±–∫—É "–Ω–µ –Ω–∞–π–¥–µ–Ω–∞")

### 8. –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```javascript
if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", init);
} else {
  init();
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è DOM:**

#### document.readyState - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞:

- **"loading"** - –¥–æ–∫—É–º–µ–Ω—Ç –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- **"interactive"** - –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –Ω–æ —Ä–µ—Å—É—Ä—Å—ã –º–æ–≥—É—Ç –µ—â–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è
- **"complete"** - –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã

#### –õ–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞:

```javascript
if (document.readyState === "loading") {
  // –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∂–¥–µ–º —Å–æ–±—ã—Ç–∏—è DOMContentLoaded
  document.addEventListener("DOMContentLoaded", init);
} else {
  // –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –∑–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É
  init();
}
```

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**

- –°–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ HTML —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã
- `DOMContentLoaded` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `readyState` –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## üé® –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å HTML

### –û–∂–∏–¥–∞–µ–º–∞—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```html
<!DOCTYPE html>
<html>
  <head>
    <title id="page-title">–î–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏</title>
  </head>
  <body>
    <div id="book-details">
      <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ -->
    </div>

    <script src="book-details.js"></script>
  </body>
</html>
```

### –ü—Ä–∏–º–µ—Ä—ã URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
book-detail.html?id=book1  # –ü–æ–∫–∞–∂–µ—Ç –¥–µ—Ç–∞–ª–∏ –∫–Ω–∏–≥–∏ —Å ID "book1"
book-detail.html?id=book999 # –ü–æ–∫–∞–∂–µ—Ç "–ö–Ω–∏–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
book-detail.html           # –ü–æ–∫–∞–∂–µ—Ç "–ù–µ —É–∫–∞–∑–∞–Ω ID –∫–Ω–∏–≥–∏"
```

## ‚ú® –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### 1. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**

- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫
- –ó–∞–ø–∞—Å–Ω—ã–µ –ø–ª–∞–Ω—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**

- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤

### 3. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**

- –ê—Ç—Ä–∏–±—É—Ç—ã aria-label
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–µ–º–∞–Ω—Ç–∏—á–Ω–∞—è HTML —Ä–∞–∑–º–µ—Ç–∫–∞

### 4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è DOM
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏

## üîß –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
2. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
3. **SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
4. **–ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - fallback –¥–ª—è —Å–ª–æ–º–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

## üìö –¢–µ—Ä–º–∏–Ω—ã –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
- **Promise** - –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- **Template Literals** - —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—Å—Ç–∞–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **URL Parameters** - –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É
- **DOM Ready** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–≥–¥–∞ HTML –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω –∏ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω
- **Fallback** - –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–∫–∏
- **Scope** - –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π
